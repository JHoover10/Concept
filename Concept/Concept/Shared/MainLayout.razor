@inherits LayoutComponentBase

@inject IJSRuntime JSRuntime
@inject MainLayoutViewModel ViewModel

<MudThemeProvider />

<MudLayout>
    <MudAppBar Elevation="1">        
        <MudButton Color="Color.Inherit" Link="/">
            <MudText Typo="Typo.h5">Concept</MudText>
        </MudButton>
        <MudSpacer />
        <CascadingValue Value="@ViewModel.ConceptCategories">
            <MudIconButton Icon="@Icons.Material.Filled.Book" Color="Color.Inherit" Edge="Edge.End" Link="changeconcepts" />
        </CascadingValue>
        <MudIconButton Icon="@Icons.Material.Filled.DarkMode" Color="Color.Inherit" Edge="Edge.End"/>
    </MudAppBar>
    <MudMainContent>
        <CascadingValue Value="@ViewModel.ConceptCategories">
            @Body
        </CascadingValue>
    </MudMainContent>
</MudLayout>

@code {
    protected override async Task OnInitializedAsync()
    {
        await ViewModel.AddConceptCategories();
    }
}